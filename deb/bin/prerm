#!/bin/bash

function ccr_prerm_deconfigure    { return 0; }
function ccr_prerm_failed_upgrade { return 0; }
function ccr_prerm_remove         { return 0; }
function ccr_prerm_upgrade        { return 0; }

CMD=${1}
FCT=ccr_prerm_${CMD/-/_}

if declare -F | awk '/^declare -f ccr_prerm/ { print $3; }' | grep ${FCT} > /dev/null 2>&1
then
    shift
    ${FCT} "$@";
    exit $?
else
    echo "Bad first argument '${1}'" >&2
    exit 255
fi
