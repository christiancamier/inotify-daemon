#!/bin/bash

function ccr_postrm_abort_install   { return 0; }
function ccr_postrm_abort_upgrade   { return 0; }
function ccr_postrm_disappear       { return 0; }
function ccr_postrm_failed_upgrade  { return 0; }
function ccr_postrm_purge           { return 0; }
function ccr_postrm_remove          { return 0; }
function ccr_postrm_upgrade         { return 0; }

CMD=${1}
FCT=ccr_postrm_${CMD/-/_}

if declare -F | awk '/^declare -f ccr_postrm/ { print $3; }' | grep ${FCT} > /dev/null 2>&1
then
    shift
    ${FCT} "$@";
    exit $?
else
    echo "Bad first argument '${1}'" >&2
    exit 255
fi
